{"ast":null,"code":"import axios from 'axios'; // seperated exports represents export code block\n\nexport var LOGIN_START = 'LOGIN_START';\nexport var ERROR = 'ERROR';\nexport var ADDING_USER = 'ADDING_USER';\nexport var ADD_USER = 'ADD_USER';\nexport var GETTING_PHOTOS = 'GETTING_PHOTOS';\nexport var GET_PHOTOS = 'GET_PHOTOS';\nexport var ADDING_PHOTO = 'ADDING_PHOTO';\nexport var ADD_PHOTO = 'ADD_PHOTO';\nexport var UPDATE_PHOTO = 'UPDATE_PHOTO';\nexport var DELETE_PHOTO = 'DELETE_PHOTO';\nexport var UPDATING_PHOTO = 'UPDATING_PHOTO';\nexport var DELETING_PHOTO = 'DELETING_PHOTO';\nexport var SINGLE_PHOTO = 'SINGLE_PHOTO';\nexport var TOGGLE_UPDATE_PHOTO = 'TOGGLE_UPDATE_PHOTO';\nexport var login = function login(creds) {\n  return function (dispatch) {\n    dispatch({\n      type: LOGIN_START\n    });\n    return axios.post('https://expat-journal.herokuapp.com/api/auth/login', creds).then(function (res) {\n      localStorage.setItem('token', res.data.token, console.log(res));\n      localStorage.setItem('user_id', res.data.user_id, console.log(res));\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: res.data.payload\n      });\n    });\n  };\n};\nexport var addUser = function addUser(user) {\n  var newUser = axios.post('https://expat-journal.herokuapp.com/api/auth/register', user).then(function (res) {\n    return console.log(res);\n  });\n  return function (dispatch) {\n    dispatch({\n      type: ADDING_USER\n    });\n    newUser.then(function (_ref) {\n      var data = _ref.data;\n      dispatch({\n        type: ADD_USER,\n        payload: data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        payload: err\n      });\n    });\n  };\n};\nexport var getPhotos = function getPhotos() {\n  var all = axios.get('https://expat-journal.herokuapp.com/api/photos/all', {\n    headers: {\n      Authorization: localStorage.getItem('token')\n    }\n  });\n  return function (dispatch) {\n    dispatch({\n      type: GETTING_PHOTOS\n    });\n    all.then(function (response) {\n      dispatch({\n        type: GET_PHOTOS,\n        payload: response.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        payload: err\n      });\n    });\n  };\n};\nexport var addPhoto = function addPhoto(id, photo) {\n  var newPhoto = axios.post(\"https://expat-journal.herokuapp.com/api/photos/all/\".concat(id), photo, {\n    headers: {\n      Authorization: localStorage.getItem('token')\n    }\n  });\n  return function (dispatch) {\n    dispatch({\n      type: ADDING_PHOTO\n    });\n    newPhoto.then(function (_ref2) {\n      var data = _ref2.data;\n      console.log(data);\n      dispatch({\n        type: ADD_PHOTO,\n        payload: data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        payload: err\n      });\n    });\n  };\n};\nexport var deletePhoto = function deletePhoto(id, photoId) {\n  var deletedPhoto = axios.delete(\"https://expat-journal.herokuapp.com/api/photos/all/\".concat(photoId), {\n    data: {\n      id: id\n    }\n  }, {\n    headers: {\n      Authorization: localStorage.getItem('token')\n    }\n  });\n  return function (dispatch) {\n    dispatch({\n      type: DELETING_PHOTO\n    });\n    deletedPhoto.then(function (_ref3) {\n      var data = _ref3.data;\n      localStorage.getItem('token', data.token, console.log(res));\n      localStorage.getItem('user_id', data.user_id, console.log(res));\n      dispatch({\n        type: DELETE_PHOTO,\n        payload: data\n      });\n      dispatch({\n        type: SINGLE_PHOTO,\n        payload: {}\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ERROR,\n        payload: err\n      });\n    });\n  };\n};\nexport var toggleShowUpdate = function toggleShowUpdate() {\n  return {\n    type: TOGGLE_UPDATE_PHOTO\n  };\n};\nexport var updateSinglePhoto = function updateSinglePhoto(photo) {\n  return {\n    type: SINGLE_PHOTO,\n    payload: photo\n  };\n};","map":{"version":3,"sources":["/Users/Laryna/Lambda/Front-End-Architect-Laryna-Billinghurst-/src/actions/index.js"],"names":["axios","LOGIN_START","ERROR","ADDING_USER","ADD_USER","GETTING_PHOTOS","GET_PHOTOS","ADDING_PHOTO","ADD_PHOTO","UPDATE_PHOTO","DELETE_PHOTO","UPDATING_PHOTO","DELETING_PHOTO","SINGLE_PHOTO","TOGGLE_UPDATE_PHOTO","login","creds","dispatch","type","post","then","res","localStorage","setItem","data","token","console","log","user_id","payload","addUser","user","newUser","catch","err","getPhotos","all","get","headers","Authorization","getItem","response","addPhoto","id","photo","newPhoto","deletePhoto","photoId","deletedPhoto","delete","toggleShowUpdate","updateSinglePhoto"],"mappings":"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","sourcesContent":["import axios from 'axios';\n// seperated exports represents export code block\nexport const LOGIN_START = 'LOGIN_START';\n\nexport const ERROR = 'ERROR';\n\nexport const ADDING_USER = 'ADDING_USER';\nexport const ADD_USER = 'ADD_USER';\n\nexport const GETTING_PHOTOS = 'GETTING_PHOTOS';\nexport const GET_PHOTOS = 'GET_PHOTOS';\n\nexport const ADDING_PHOTO = 'ADDING_PHOTO';\nexport const ADD_PHOTO = 'ADD_PHOTO';\n\nexport const UPDATE_PHOTO = 'UPDATE_PHOTO';\nexport const DELETE_PHOTO = 'DELETE_PHOTO';\nexport const UPDATING_PHOTO = 'UPDATING_PHOTO';\nexport const DELETING_PHOTO = 'DELETING_PHOTO';\nexport const SINGLE_PHOTO = 'SINGLE_PHOTO';\nexport const TOGGLE_UPDATE_PHOTO = 'TOGGLE_UPDATE_PHOTO';\n\nexport const login = creds => dispatch => {\n  dispatch({ type: LOGIN_START });\n  return axios.post('https://expat-journal.herokuapp.com/api/auth/login', creds)\n  .then(res => {\n    localStorage.setItem('token', res.data.token, console.log(res));\n    localStorage.setItem('user_id', res.data.user_id, console.log(res));\n    dispatch({ type: 'LOGIN_SUCCESS', payload: res.data.payload });\n  })\n}\n\nexport const addUser = user => {\n  const newUser = axios.post('https://expat-journal.herokuapp.com/api/auth/register', user\n  ).then( res => console.log(res))\n  return dispatch => {\n    dispatch({ type: ADDING_USER });\n      newUser\n    .then(({ data }) => {\n      dispatch({ type: ADD_USER, payload: data });\n    })\n    .catch(err => {\n      dispatch({ type: ERROR, payload: err });\n    });\n  };\n};\n\nexport const getPhotos = () => {\n  const all = axios.get('https://expat-journal.herokuapp.com/api/photos/all', {\n    headers: { Authorization: localStorage.getItem('token') }\n  })\n    return dispatch => {\n      dispatch({ type: GETTING_PHOTOS });\n        all\n      .then(response => {\n        dispatch({ type: GET_PHOTOS, payload: response.data });\n      })\n      .catch(err => {\n        dispatch({ type: ERROR, payload: err });\n      });\n    };\n};\n\nexport const addPhoto = (id, photo) => {\n  const newPhoto = axios.post(`https://expat-journal.herokuapp.com/api/photos/all/${id}`, photo, \n  {headers: { Authorization: localStorage.getItem('token') }}\n  )\n  return dispatch => {\n    dispatch({ type: ADDING_PHOTO });\n      newPhoto\n    .then(({ data }) => {\n      console.log(data)\n      dispatch({ type: ADD_PHOTO, payload: data });\n    })\n    .catch(err => {\n      dispatch({ type: ERROR, payload: err });\n    });\n  };\n};\n\nexport const deletePhoto = (id, photoId)  => {\n  const deletedPhoto = axios.delete(`https://expat-journal.herokuapp.com/api/photos/all/${photoId}`, {\n    data: { id },\n  },{headers: { Authorization: localStorage.getItem('token') }});\n  return dispatch => {\n    dispatch({ type: DELETING_PHOTO });\n    deletedPhoto\n      .then(({ data }) => {\n        localStorage.getItem('token', data.token, console.log(res));\n        localStorage.getItem('user_id', data.user_id, console.log(res));\n        dispatch({ type: DELETE_PHOTO, payload: data });\n        dispatch({ type: SINGLE_PHOTO, payload: {} });\n      })\n      .catch(err => {\n        dispatch({ type: ERROR, payload: err });\n      });\n  };\n};\n\nexport const toggleShowUpdate = () => {\n  return {\n    type: TOGGLE_UPDATE_PHOTO\n  };\n};\n\nexport const updateSinglePhoto = photo => {\n  return {\n    type: SINGLE_PHOTO,\n    payload: photo\n  };\n};"]},"metadata":{},"sourceType":"module"}